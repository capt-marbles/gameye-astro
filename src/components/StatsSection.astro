---
import SectionParticles from './SectionParticles.astro';

const stats = [
  { value: '99.95%', target: 99.95, decimals: 2, suffix: '%', label: 'Availability target' },
  { value: '<50ms', target: 50, decimals: 0, prefix: '<', prefixAtEnd: true, suffix: 'ms', label: 'Control-plane response median' },
  { value: '25+', target: 25, decimals: 0, suffix: '+', label: 'Global regions covered' },
  { value: '1000+', target: 1000, decimals: 0, suffix: '+', label: 'Sessions orchestrated daily' },
];
---

<section class="section stats-section">
  <SectionParticles count={6} />
  <div class="container">
    <div class="heading">
      <p class="subtitle">Reusable Section</p>
      <h2>Operational metrics block</h2>
    </div>
    <div class="stats-grid">
      {stats.map((stat) => (
        <article class="stat-card">
          <p
            class="stat-value"
            data-target={stat.target}
            data-decimals={stat.decimals}
            data-prefix={stat.prefix ?? ''}
            data-prefix-at-end={stat.prefixAtEnd ? 'true' : 'false'}
            data-suffix={stat.suffix ?? ''}
          >
            {stat.value}
          </p>
          <p class="stat-label">{stat.label}</p>
        </article>
      ))}
    </div>
  </div>
</section>

<style>
  .stats-section {
    position: relative;
    overflow: hidden;
    background: var(--gy-color-bg);
    margin: 3.6rem 0;
  }

  .stats-section .container {
    position: relative;
    z-index: 1;
  }

  .heading {
    text-align: center;
    margin-bottom: 40px;
  }

  .stats-grid {
    margin-top: 0;
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 4rem;
  }

  .stat-card {
    background: transparent;
    border: none;
    border-radius: 0;
    padding: 0;
    text-align: center;
  }

  .stat-value {
    margin: 0;
    font-size: 48px;
    font-weight: 700;
    color: var(--gy-color-dark-blue);
  }

  .stat-label {
    margin-top: 0.6rem;
    color: var(--gy-color-alt-dark-blue);
    font-size: 1rem;
  }

  @media (max-width: 950px) {
    .stats-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (max-width: 600px) {
    .stats-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
